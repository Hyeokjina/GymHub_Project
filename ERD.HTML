erDiagram
    MEMBERS ||--o{ MEMBERSHIPS : has
    MEMBERS ||--o{ ATTENDANCE : records
    MEMBERS ||--o{ LOCKERS : rents
    MEMBERS ||--o{ CONSULTATIONS : requests
    MEMBERS ||--o{ REVIEWS : writes
    MEMBERS ||--o{ EXERCISE_GOALS : sets
    MEMBERS ||--o{ WEIGHT_RECORDS : tracks
    MEMBERS ||--o{ INBODY_RECORDS : measures
    MEMBERS ||--o{ PT_CONTRACTS : signs
    
    GYMS ||--o{ MEMBERSHIP_TYPES : offers
    GYMS ||--o{ EQUIPMENT : owns
    GYMS ||--o{ AMENITIES : provides
    GYMS ||--o{ REVIEWS : receives
    GYMS ||--o{ CONSULTATIONS : accepts
    GYMS ||--o{ TRAINERS : employs
    GYMS ||--o{ NOTICES : posts
    GYMS ||--o{ HOURLY_CONGESTION : tracks
    GYMS ||--o{ INVENTORY : manages
    GYMS ||--o{ LOCKERS : owns
    GYMS ||--o{ GYM_PHOTOS : uploads
    
    MEMBERSHIP_TYPES ||--o{ MEMBERSHIPS : defines
    EQUIPMENT ||--o{ MAINTENANCE_LOGS : maintains
    TRAINERS ||--o{ CONSULTATIONS : handles
    TRAINERS ||--o{ PT_CONTRACTS : manages
    TRAINERS ||--o{ TRAINER_CERTIFICATES : holds
    TRAINERS ||--o{ EXERCISE_VIDEOS : uploads
    TRAINERS ||--o{ PT_SCHEDULES : schedules
    
    PT_CONTRACTS ||--o{ PT_SCHEDULES : generates
    PT_CONTRACTS ||--o{ PT_RECORDS : accumulates
    INVENTORY ||--o{ INVENTORY_TRANSACTIONS : changes
    
    MEMBERS {
        int member_id PK "회원ID"
        string name "이름"
        string phone "전화번호"
        string email "이메일"
        string password "비밀번호"
        date birth_date "생년월일"
        string gender "성별"
        string address "주소"
        date join_date "가입일"
        string status "회원상태"
        int registered_gym_id FK "등록헬스장ID"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    GYMS {
        int gym_id PK "헬스장ID"
        string gym_name "헬스장명"
        string phone "전화번호"
        string address "주소"
        string detail_address "상세주소"
        float latitude "위도"
        float longitude "경도"
        string thumbnail_url "대표사진URL"
        text description "소개글"
        string operating_hours "운영시간"
        string closed_days "휴무일"
        float avg_rating "평균별점"
        int review_count "리뷰수"
        boolean approved "승인상태"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    GYM_PHOTOS {
        int photo_id PK "사진ID"
        int gym_id FK "헬스장ID"
        string photo_url "사진URL"
        boolean is_thumbnail "대표사진여부"
        int display_order "정렬순서"
        datetime uploaded_at "등록일시"
    }
    
    MEMBERSHIP_TYPES {
        int type_id PK "회원권타입ID"
        int gym_id FK "헬스장ID"
        string type_name "타입명"
        int price "가격"
        int duration_months "기간개월"
        text description "설명"
        boolean includes_locker "락커포함여부"
        boolean includes_clothes "운동복제공여부"
        datetime created_at "생성일시"
    }
    
    MEMBERSHIPS {
        int membership_id PK "회원권ID"
        int member_id FK "회원ID"
        int type_id FK "회원권타입ID"
        int gym_id FK "헬스장ID"
        date start_date "시작일"
        date end_date "종료일"
        int payment_amount "결제금액"
        string payment_method "결제방법"
        string status "상태"
        boolean is_extended "연장여부"
        datetime created_at "등록일시"
        datetime updated_at "수정일시"
    }
    
    ATTENDANCE {
        int attendance_id PK "출석ID"
        int member_id FK "회원ID"
        int gym_id FK "헬스장ID"
        date attendance_date "출석일"
        time check_in_time "입실시간"
        time check_out_time "퇴실시간"
        datetime created_at "생성일시"
    }
    
    HOURLY_CONGESTION {
        int congestion_id PK "혼잡도ID"
        int gym_id FK "헬스장ID"
        date date "날짜"
        int hour "시간대"
        int member_count "인원수"
        float congestion_rate "혼잡도비율"
        datetime recorded_at "집계일시"
    }
    
    LOCKERS {
        int locker_id PK "락커ID"
        int gym_id FK "헬스장ID"
        string locker_number "락커번호"
        string section "구역"
        int member_id FK "회원ID"
        date start_date "시작일"
        date end_date "종료일"
        int monthly_fee "월임대료"
        string status "상태"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    AMENITIES {
        int amenity_id PK "편의시설ID"
        int gym_id FK "헬스장ID"
        string amenity_name "시설명"
        string icon "아이콘"
        boolean available "보유여부"
        datetime created_at "등록일시"
    }
    
    EQUIPMENT {
        int equipment_id PK "기구ID"
        int gym_id FK "헬스장ID"
        string equipment_name "기구명"
        string equipment_type "기구종류"
        string brand "브랜드"
        int manufacture_year "제조년도"
        int quantity "개수"
        string location "위치"
        string status "상태"
        date purchase_date "구매일"
        date last_maintenance "마지막점검일"
        date next_maintenance "다음점검예정일"
        text notes "비고"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    MAINTENANCE_LOGS {
        int log_id PK "점검이력ID"
        int equipment_id FK "기구ID"
        date maintenance_date "점검일"
        string maintenance_type "점검타입"
        text description "점검내용"
        int cost "비용"
        int staff_id FK "담당자ID"
        datetime created_at "생성일시"
    }
    
    CONSULTATIONS {
        int consultation_id PK "예약ID"
        int gym_id FK "헬스장ID"
        string customer_name "고객명"
        string phone "전화번호"
        string email "이메일"
        string consultation_type "상담유형"
        datetime scheduled_at "예약일시"
        int trainer_id FK "담당트레이너ID"
        string status "상태"
        text content "상담내용"
        boolean converted "회원전환여부"
        int converted_member_id FK "전환된회원ID"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    REVIEWS {
        int review_id PK "리뷰ID"
        int gym_id FK "헬스장ID"
        int member_id FK "회원ID"
        float rating "별점"
        text content "리뷰내용"
        datetime created_at "작성일시"
        datetime updated_at "수정일시"
    }
    
    TRAINERS {
        int trainer_id PK "트레이너ID"
        int gym_id FK "헬스장ID"
        string name "이름"
        string phone "전화번호"
        string email "이메일"
        string password "비밀번호"
        text bio "소개"
        string specialization "전문분야"
        string profile_photo_url "프로필사진URL"
        date hire_date "고용일"
        string status "상태"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    TRAINER_CERTIFICATES {
        int certificate_id PK "자격증ID"
        int trainer_id FK "트레이너ID"
        string certificate_name "자격증명"
        string issuer "발급기관"
        date issue_date "취득일"
        date expiry_date "만료일"
        string certificate_number "자격증번호"
        datetime created_at "등록일시"
    }
    
    PT_CONTRACTS {
        int contract_id PK "PT계약ID"
        int member_id FK "회원ID"
        int trainer_id FK "트레이너ID"
        int total_sessions "총횟수"
        int remaining_sessions "남은횟수"
        int price "가격"
        date start_date "시작일"
        date end_date "종료일"
        string status "상태"
        datetime created_at "계약일시"
        datetime updated_at "수정일시"
    }
    
    PT_SCHEDULES {
        int schedule_id PK "스케줄ID"
        int contract_id FK "PT계약ID"
        int trainer_id FK "트레이너ID"
        int member_id FK "회원ID"
        datetime scheduled_at "예약일시"
        int duration_minutes "소요시간분"
        string status "상태"
        text memo "메모"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    PT_RECORDS {
        int record_id PK "PT기록ID"
        int contract_id FK "PT계약ID"
        int schedule_id FK "스케줄ID"
        date record_date "날짜"
        text exercise_content "운동내용"
        text notes "특이사항"
        datetime created_at "생성일시"
    }
    
    EXERCISE_VIDEOS {
        int video_id PK "영상ID"
        int trainer_id FK "트레이너ID"
        int gym_id FK "헬스장ID"
        string title "제목"
        text description "설명"
        string video_url "영상URL"
        string thumbnail_url "썸네일URL"
        string target_muscle "운동부위"
        int view_count "조회수"
        datetime uploaded_at "업로드일시"
    }
    
    EXERCISE_GOALS {
        int goal_id PK "목표ID"
        int member_id FK "회원ID"
        string goal_title "목표제목"
        text goal_content "목표내용"
        date start_date "시작일"
        date target_date "목표일"
        string status "상태"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    WEIGHT_RECORDS {
        int record_id PK "기록ID"
        int member_id FK "회원ID"
        date measurement_date "측정일"
        float weight "체중"
        float skeletal_muscle_mass "골격근량"
        float body_fat_mass "체지방량"
        datetime created_at "등록일시"
    }
    
    INBODY_RECORDS {
        int inbody_id PK "인바디ID"
        int member_id FK "회원ID"
        date measurement_date "측정일"
        float weight "체중"
        float skeletal_muscle_mass "골격근량"
        float body_fat_mass "체지방량"
        float body_fat_percentage "체지방률"
        float muscle_mass "근육량"
        float body_water "체수분"
        float protein "단백질"
        float minerals "무기질"
        float visceral_fat_level "내장지방레벨"
        float bmi "BMI"
        datetime created_at "등록일시"
    }
    
    NOTICES {
        int notice_id PK "공지ID"
        int gym_id FK "헬스장ID"
        string title "제목"
        text content "내용"
        boolean is_important "중요공지여부"
        date start_date "게시시작일"
        date end_date "게시종료일"
        int view_count "조회수"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    INVENTORY {
        int inventory_id PK "재고ID"
        int gym_id FK "헬스장ID"
        string item_name "품목명"
        string category "카테고리"
        int current_stock "현재재고"
        int max_capacity "최대용량"
        int unit_price "단가"
        int reorder_level "재주문기준"
        datetime created_at "생성일시"
        datetime updated_at "수정일시"
    }
    
    INVENTORY_TRANSACTIONS {
        int transaction_id PK "거래ID"
        int inventory_id FK "재고ID"
        string transaction_type "거래유형"
        int quantity "수량"
        int staff_id FK "담당자ID"
        text notes "비고"
        datetime transaction_date "거래일시"
    }
    
    REVENUE {
        int revenue_id PK "매출ID"
        int gym_id FK "헬스장ID"
        date revenue_date "매출일"
        string revenue_type "매출유형"
        int amount "금액"
        int member_id FK "회원ID"
        string payment_method "결제방법"
        text description "설명"
        datetime created_at "생성일시"
    }
    
    GYMS ||--o{ REVENUE : generates
    MEMBERS ||--o{ REVENUE : pays